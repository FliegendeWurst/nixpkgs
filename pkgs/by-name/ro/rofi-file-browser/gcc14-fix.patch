From 27cb7d6e92de5cd48c2a70e3bd095fac905d5b7f Mon Sep 17 00:00:00 2001
From: Brahmajit Das <brahmajit.xyz@gmail.com>
Date: Tue, 30 Apr 2024 11:39:59 +0530
Subject: [PATCH] Fix building with GCC 14 on i686

Signed-off-by: Brahmajit Das <brahmajit.xyz@gmail.com>
---
 src/files.c | 2 +-
 src/icons.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/files.c b/src/files.c
index 29a5f9c..663a5f4 100644
--- a/src/files.c
+++ b/src/files.c
@@ -167,7 +167,7 @@ static bool match_glob_patterns ( const char *basename, FileBrowserFileData *fd
 {
     int len = strlen ( basename );
     for ( int i = 0; i < fd->num_exclude_patterns; i++ ) {
-        if ( g_pattern_match ( fd->exclude_patterns[i], len, basename, NULL ) ) {
+        if ( g_pattern_spec_match ( fd->exclude_patterns[i], len, basename, NULL ) ) {
             return false;
         }
     }
diff --git a/src/icons.c b/src/icons.c
index eee00a4..ae476de 100644
--- a/src/icons.c
+++ b/src/icons.c
@@ -48,7 +48,7 @@ void request_icons_for_file ( FBFile *fbfile, int icon_size, FileBrowserIconData
         }
     }
 
-    unsigned long num_icon_names;
+    gsize num_icon_names;
     char** icon_names_raw = g_array_steal ( icon_names, &num_icon_names );
 
     /* Create icon fetcher requests. */

From 170e5b5b88267970cd17efb2d3e46157e681e69e Mon Sep 17 00:00:00 2001
From: Arne Keller <arne.keller@posteo.de>
Date: Sun, 12 Jan 2025 14:28:34 +0100
Subject: [PATCH] filebrowser.c: fix GCC 14 build

---
 src/filebrowser.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/filebrowser.c b/src/filebrowser.c
index a5a19af..59f0140 100644
--- a/src/filebrowser.c
+++ b/src/filebrowser.c
@@ -263,7 +263,7 @@ static char *file_browser_get_display_value ( const Mode *sw, unsigned int selec
     }
 }
 
-static cairo_surface_t *file_browser_get_icon ( const Mode *sw, unsigned int selected_line, int height )
+static cairo_surface_t *file_browser_get_icon ( const Mode *sw, unsigned int selected_line, unsigned int height )
 {
     FileBrowserModePrivateData *pd = ( FileBrowserModePrivateData * ) mode_get_private_data ( sw );
     FileBrowserFileData *fd = &pd->file_data;

